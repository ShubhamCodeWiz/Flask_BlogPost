{% extends "base.html" %}

{% block body %}
    {% if tag_name %}
    <h1>{{ tag_name }}</h1>
    {% else %}
    <h1>All Posts</h1>
    {% endif %}

    {% for post in posts %}
        <article>
            <h2><a href="{{ url_for('view_post', post_id=post.id) }}">{{ post.title }}</a></h2>

            <p>By: {{ post.owner.username }} on {{ post.created_at.strftime('%I:%M %p on %B %d, %Y')}}</p>

            <div>
               <strong>Tags:</strong>
                {% for tag in post.tags %}
                    <a href="{{ url_for('posts_by_tag', tag_name=tag.name) }}">{{ tag.name }}</a>
                {% endfor %}
            </div>
        </article>
        <hr>
    {% else %}
        <p>No posts have been created yet!</p>
    {% endfor %}

{% endblock %}